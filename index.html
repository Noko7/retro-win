<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>RetroWin Homepage</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body style="background-image: url('public/icons/xp-wallpaper.jpg'); background-size: cover; background-position: center center; background-repeat: no-repeat; background-attachment: fixed;">


  <!-- flashing warning banner-->
  <div style="animation: flash 1s infinite;-webkit-animation: flash 1s infinite">
    <marquee behavior="scroll" direction="left" scrollamount="6" loop="-1"
             style="background:red;color:yellow;font-weight:bold;font-size:14px;
             padding:8px;text-shadow:1px 1px black;font-family:Tahoma,sans-serif">
      🚨 WARNING: There are hidden features on this site beyond man's comprehension. Some content may be harmful to people of neanderthaw decent. Please use with discression and compassion. 
    </marquee>
  </div>
  <script>
    /* simple flash key-frames for the marquee */
    const style = document.createElement('style');
    style.textContent = `@keyframes flash{0%{opacity:1;}50%{opacity:.4;}100%{opacity:1;}}`;
    document.head.appendChild(style);
  </script>

  <!--   THE DESKTOP   -->
  <div id="desktop">

    <!-- ╔═ My Computer window ═╗ -->
    <div class="window draggable" style="top:200px;left:calc(50% - 250px);width:500px;">
      <div class="title-bar"><span class="title">My Computer</span>
        <span class="window-buttons">
          <button>_</button><button>[]</button><button>X</button>
        </span>
      </div>
      <div class="window-content">
        <table>
          <tr>
            <td><img class="folder-icon" src="public/icons/Hopstarter-Mac-Folders-Windows.256.png" />
              <br>About</td>
            <td>
              <a href="https://github.com/Noko7" target="_blank" style="text-decoration:none;color:inherit">
                <img class="folder-icon" src="public/icons/Hopstarter-Mac-Folders-Windows.256.png" />
                <br>Projects
              </a>
            </td>
            <td><img class="folder-icon" src="public/icons/Hopstarter-Mac-Folders-Windows.256.png" />
              <br>Cloud</td>
          </tr>
        </table>
      </div>
    </div>
    
    <!-- Paint window (Windows XP style) -->
    <div class="window draggable" style="top:150px;left:150px;width:550px;height:400px;">
      <div class="title-bar">
        <span class="title">untitled – Paint</span>
        <span class="window-buttons">
          <button>_</button><button>[]</button><button>X</button>
        </span>
      </div>
      <div class="window-content" style="height:calc(100% - 28px);display:flex;flex-direction:column;">
        <!-- XP-style toolbar -->
        <div class="paint-toolbar-xp">
          <button class="paint-color-btn" data-color="red"    style="background:red"></button>
          <button class="paint-color-btn" data-color="blue"   style="background:blue"></button>
          <button class="paint-color-btn" data-color="green"  style="background:green"></button>
          <button class="paint-color-btn" data-color="yellow" style="background:yellow"></button>
          <button class="paint-color-btn" data-color="purple" style="background:purple"></button>
          <button class="paint-color-btn" data-color="orange" style="background:orange"></button>
          <button onclick="clearCanvas()" title="Clear Canvas" style="margin-left:16px;padding:0 10px;font-size:13px;border-radius:3px;border:1px solid #888;background:#ece9d8;cursor:pointer;">Clear</button>
        </div>
        <!-- Paint canvas -->
        <div style="flex:1;display:flex;align-items:center;justify-content:center;">
          <canvas id="paintCanvas" width="500" height="300"
                  style="border:1.5px solid #000;cursor:crosshair;background:#fff;box-shadow:2px 2px 6px #b5b5b5;"></canvas>
        </div>
      </div>
    </div>





    <!-- ╔═ Pop-ups ═╗ -->
    <div class="popup-window draggable" style="top:30px;left:50px;width:250px;">
      <div class="title-bar"><span class="title">Sponsored Forum</span>
        <span class="window-buttons"><button>_</button><button>[]</button><button>X</button></span>
      </div>
      <div class="window-content">🔥 Hot Topic: AI will replace humans ??</div>
    </div>

    <div class="popup-window draggable" style="top:100px;right:50px;width:250px;">
      <div class="title-bar"><span class="title">Download Manager</span>
        <span class="window-buttons"><button>_</button><button>[]</button><button>X</button></span>
      </div>
      <div class="window-content">
        💾 Your download is ready! Click
        <a href="https://www.youtube.com/watch?v=xvFZjo5PgG0">here</a>.
      </div>
    </div>

    <div class="popup-window draggable" style="bottom:100px;left:100px;width:300px;height:300px;">
      <div class="title-bar"><span class="title">Live Chat Room</span>
        <span class="window-buttons"><button>_</button><button>[]</button><button>X</button></span>
      </div>
      <div class="window-content" style="display:flex;flex-direction:column;height:100%;">
        <div id="chatMessages"
             style="flex:1;overflow-y:auto;border:1px solid #000;padding:5px;background:#fff;font-size:12px">
          <div>👋 Chat?</div>
        </div>
        <div style="margin-top:10px;display:flex;">
          <input id="chatInput" type="text" placeholder="Type a message…"
                 style="flex:1;font-size:12px;padding:2px" />
          <button style="margin-left:5px;font-size:12px" onclick="sendMessage()">Send</button>
        </div>
      </div>
    </div>
    <script>
      /* tiny chat handler */
      function sendMessage(){
        const inp=document.getElementById('chatInput'),msg=inp.value.trim();
        if(!msg) return;
        const div=document.createElement('div');
        div.textContent=`You: ${msg}`;
        const box=document.getElementById('chatMessages');
        box.appendChild(div);
        box.scrollTop=box.scrollHeight;
        inp.value='';
      }
      document.getElementById('chatInput')
              .addEventListener('keydown',e=>e.key==='Enter'&&sendMessage());
    </script>

    <!-- ▄▄▄▄▄ TASK-BAR ▄▄▄▄▄ -->
    <div id="taskbar">
      <button id="start-button">
        <img src="icons/start.png" /> Start
      </button>
      <!-- dynamic window buttons appear here -->
      <div id="taskbar-windows"></div>
      <div id="clock"></div>
    </div>

  </div><!-- /desktop -->

  <!-- ⏰ live clock -->
  <script>
    function updateClock(){
      const now=new Date();
      document.getElementById('clock').textContent=
        now.toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'});
    }
    setInterval(updateClock,1000); updateClock();
  </script>
<script src="src/paint.js"></script>
<script src="src/windows.js"></script>
<script type="module">
  import StartMenu from './src/startMenu.js';
  new StartMenu();
</script>
</body>
</html>
